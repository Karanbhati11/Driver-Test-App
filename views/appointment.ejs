<!DOCTYPE html>
<html lang="en">
  <%- include('layouts/head') %>
  <style>
    /* Base style for labels */
    .btn-check {
      margin: 5px;
      cursor: pointer;
      display: inline-block;
      padding: 0.375rem 0.75rem;
      font-size: 1rem;
      line-height: 1.5;
      border-radius: 0.375rem;
      color: #0d6efd;
      background-color: transparent;
      border: 1px solid #0d6efd;
      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,
        border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    /* Hide the checkbox */
    .btn-check input[type="checkbox"] {
      display: none;
    }

    /* Style for when checkbox is checked */
    .btn-check input[type="checkbox"]:checked + span {
      color: #fff;
      background-color: #0d6efd;
      border-color: #0d6efd;
    }
  </style>

  <body>
    <!-- navbar -->
    <%- include('layouts/nav') %>

    <!-- Page Header-->
    <header
      class="masthead"
      style="background-image: url('assets/img/background.jpg')"
    >
      <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <div class="site-heading">
              <h1>Appointments</h1>
              <p>Book your Appointments Here</p>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content-->
    <div class="container mt-5">
      <div class="row">
        <div class="col-md-8 offset-md-2">
          <div class="alert alert-info" role="alert">
            <form
              method="get"
              action="/appointment"
              id="appointmentform"
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
              "
            >
              <div>
                <label for="date">Select Date</label>
                <input
                  type="date"
                  name="date"
                  style="margin: 10px"
                  value="<%= date %>"
                  min="<%= minDate %>"
                  onchange="this.form.submit()"
                />
              </div>
              <div
                style="
                  display: flex;
                  flex-wrap: wrap;
                  justify-content: center;
                  align-items: center;
                "
              >
                <% for (let i=0; i< times.length ;i++){ %> <input type="button"
                class="time-slot btn btn-outline-primary"
                data-bs-toggle="button" aria-pressed="false"
                name="<%-times[i].time %>" value="<%- times[i].time %>" <%-
                times[i].isTimeSlotTaken ? "" : "disabled" %> /> <%}%>
              </div>
              <!-- Submit button -->
              <input
                type="submit"
                value="Create Slot"
                class="btn btn-dark btn-block mb-4"
                style="margin: 10px"
              />
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- footer -->
    <%- include('layouts/footer') %>

    <!-- scripts -->
    <%- include('layouts/script') %>
  </body>
</html>
